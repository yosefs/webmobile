<!DOCTYPE html>
<html>
    <head>
        <title>Remarker</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <style>
            body{
                color:#1c4476;
            }
            textarea{
                width: 95%;
            }
            
            ul{
                padding: 0;
                list-style: none;
            }
            .my-remark-date{
                 float:right;
            }
            
            li{
                padding: 4px;
                margin-bottom: 14px;
                background: #f2f5f6; /* Old browsers */
                background-image: linear-gradient(bottom, rgb(181,193,255) 100%, rgb(217,237,247) 100%);
                background-image: -o-linear-gradient(bottom, rgb(181,193,255) 100%, rgb(217,237,247) 100%);
                background-image: -moz-linear-gradient(bottom, rgb(181,193,255) 100%, rgb(217,237,247) 100%);
                background-image: -webkit-linear-gradient(bottom, rgb(181,193,255) 100%, rgb(217,237,247) 100%);
                background-image: -ms-linear-gradient(bottom, rgb(181,193,255) 100%, rgb(217,237,247) 100%);         
                background-image: -webkit-gradient(
                    linear,
                    left bottom,
                    left top,
                    color-stop(1, rgb(181,193,255)),
                    color-stop(1, rgb(217,237,247))
                    );
            }

            .my-button{
                display: inline-block;
                margin-left: 2px;

                font-family: Arial, Helvetica, sans-serif;
                font-size: 14px;
                color: #ffffff;
                padding: 6px 16px;
                background: -moz-linear-gradient(
                    top,
                    #8fadc4 0%,
                    #1a708f 50%,
                    #142a85 50%,
                    #203e6b);
                background: -webkit-gradient(
                    linear, left top, left bottom, 
                    from(#8fadc4),
                    color-stop(0.50, #1a708f),
                    color-stop(0.50, #142a85),
                    to(#203e6b));
                border-radius: 9px;
                -moz-border-radius: 9px;
                -webkit-border-radius: 9px;
                border: 1px solid #3c78a6;
                -moz-box-shadow:
                    0px 1px 3px rgba(30,60,150,0.5),
                    inset 0px 0px 1px rgba(255,255,255,0.6);
                -webkit-box-shadow:
                    0px 1px 3px rgba(30,60,150,0.5),
                    inset 0px 0px 1px rgba(255,255,255,0.6);
                text-shadow:
                    0px -1px 0px rgba(15,49,150,1),
                    0px 1px 0px rgba(255,255,255,0.2);

            }
            
            .my-button-save{
                display: none;
                 
            }

        </style>
    </head>
    <body>
        <h1>Personal Remarker</h1>
            <textarea rows="4" cols="50" id="remark-text" placeholder="insert remark">  </textarea>
            <div class="my-button my-button-submit">post remark</div>
        <h2>remarks</h2>
        <ul>
            
        </ul>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script>
            $(document).ready(function(){
                $('.my-button-submit').on('click',function(){ 
                    var date=new Date();
                    var strDate='posted:'+date.getDay()+'/'+date.getMonth()+'/'+date.getFullYear();
                    var valElement=$('#remark-text').text();
                    if(!valElement){return false;}
                    var str='<li>'+
                            '<div class="my-text">'+$('#remark-text').val()+'</div>';
                 /**   if(window.navigator){
                        navigator.geolocation.getCurrentPosition(function(position) {   
                            str+=' latitude:'+startPos.coords.latitude+' longitude:'+startPos.coords.longitude;
                        });
                    }
                    */
                    str+='<div class="my-button my-button-edit">edit</div>'+
                         '<div class="my-button my-button-delete">delete</div>'+
                         '<div class="my-button my-button-save">save</div>'+
                         '<div class="my-remark-date">'+strDate+'</div>'+
                         '</li>';
                    $('ul').append(str);
                    return false;
                });
                $('.my-button-edit').live('click',function(){
                    $(this).parent().find('.my-button-save').css('display','inline-block');
                    var myText=$(this).parent().find('.my-text');
                    myText.html('<textarea>'+myText.html()+'</textarea>');
                    return false;
                });
                $('.my-button-save').live('click',function(){
                    var myText=$(this).parent().find('textarea');
                    myText.parent().html(myText.val());
                    return false;
                });
                $('.my-button-delete').live('click',function(){
                    $(this).parent().remove();
                    return false;
                });
            });
        </script>
    </body>
</html>
